# ==============================
# 应用基础配置
# ==============================
APP_NAME=telegram-mcp-bot
ENV=dev
LOG_LEVEL=INFO
LOG_FILE=logs/app.log
SQL_ECHO=false

# ==============================
# Telegram Bot 配置
# 从 @BotFather 获取 Token
# ==============================
TELEGRAM_BOT_TOKEN=
TELEGRAM_MESSAGE_TIMEOUT_SECONDS=45

# ==============================
# LLM 配置
# LLM_PROVIDER: heuristic | openai | deepseek
# ==============================
LLM_PROVIDER=heuristic
LLM_API_KEY=
LLM_MODEL=gpt-4.1-mini
LLM_BASE_URL=
AGENT_MAX_STEPS=6

# ==============================
# 数据与记忆存储
# DATABASE_URL 使用 PostgreSQL（SQLAlchemy + asyncpg）
# USE_REDIS_MEMORY=true 时启用 Redis 记忆
# ==============================
DATABASE_URL=postgresql+asyncpg://<username>:<password>@<host>:<port>/<database>
REDIS_URL=redis://<host>:<port>/<db>
USE_REDIS_MEMORY=false

# ==============================
# 区域与业务默认值
# ==============================
TIMEZONE=Asia/Singapore
DEFAULT_LOCALE=zh-CN
EXPENSE_DEFAULT_CURRENCY=CNY
ANALYTICS_OUTPUT_DIR=outputs/charts
# 若系统无中文字体，建议安装：sudo apt install -y fonts-noto-cjk
ANALYTICS_FONT_CANDIDATES=Noto Sans CJK SC,Noto Sans CJK TC,Microsoft YaHei,SimHei,WenQuanYi Zen Hei,DejaVu Sans

# ==============================
# 图片分析与存储配置
# image_storage_mode: none | local
# 若 IMAGE_ANALYSIS_STORE_TO_DB=false 则仅回传 TG，不落库
# ==============================
IMAGE_ANALYSIS_ENABLED=true
IMAGE_ANALYSIS_MODEL=gpt-4.1-mini
IMAGE_ANALYSIS_PROMPT=请识别图片中的内容，提取与消费相关的信息并给出简洁分析。
IMAGE_STORAGE_MODE=none
IMAGE_STORAGE_DIR=outputs/images
IMAGE_STORAGE_CHANNEL_URL=
IMAGE_ANALYSIS_STORE_TO_DB=false
IMAGE_ANALYSIS_DATABASE_URL=

# ==============================
# 天气服务 API 配置
# ==============================
WEATHER_BASE_URL=https://api.open-meteo.com/v1/forecast
WEATHER_GEO_BASE_URL=https://geocoding-api.open-meteo.com/v1/search
